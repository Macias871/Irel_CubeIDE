#include "BUS.h"
#include <string.h>
#include "main.h"
#include "cmsis_os.h"
#include "globals.h"

xSemaphoreHandle refresh_data_mutex;
xQueueHandle xEthParamsQueue;
xQueueHandle uart_rx_data_queue;
xQueueHandle xDebugQueueHandle;
xTaskHandle xBusTaskHandle;
xTaskHandle xEthTaskHandle = NULL;
uint8_t PWMy[2];
char PWM1[5];
char PWM2[5];


volatile SlaveModule S[7];
#ifdef PWMSlave
volatile SlavePWMModule SPWM[7];
#endif
volatile uint8_t dey_chg_f;
volatile prgWeek P[3];
volatile structAlarm alarmItem[ALARMSH_SIZE];
volatile _ethParam ethParam;
volatile eth_to_log_t eth_to_log;
volatile uint32_t gui_refresh_bits_0 = 0x00000000;
volatile uint32_t gui_refresh_bits_1 = 0x00000000;
volatile uint32_t updateBits0 = 0x00000000;

_temperatures Temperatures;

volatile int8_t global_temperature_tab[5];
volatile int8_t global_room_temp_down;
volatile int8_t tmp_room_temp_down;
volatile uint8_t global_room_temp_ordered;
volatile uint8_t global_cwu_temp_cwu_on[] = { 0, 0, 0, 0, 0, 0};
volatile int8_t tmp_cwu_temp_cwu_on;
volatile uint8_t tmp_cwu_temp_cwu_off;
volatile uint8_t tmp_cwu_temp_readed;
volatile int8_t global_cwu_temp_offset_tab[] = { 0, 0, 0, 0, 0, 0};
volatile uint8_t global_prev_temperature_co=0;
volatile int16_t sys_integral_prv;
volatile uint8_t sys_room_temperature = 0;
//volatile uint16_t sys_inside_temperature = 0;
volatile uint8_t refresh_kg = 0;
volatile _datetime_struct global_time;
volatile uint8_t sp_have_to_set_flag = 0;
volatile uint8_t psg_on_delay = 10;	// opoznienie zalaczenia
volatile uint8_t spr_on_cnt_local[] = { 0, 0, 0, 0, 0, 0};
volatile uint8_t pdz_off_cnt_local[] = { 0, 0, 0, 0, 0, 0};
volatile uint8_t kg_mul=3;
volatile int16_t sys_integral = 0;
volatile uint8_t integral_delay = 0;
volatile uint8_t integral_spring = 0;
volatile uint32_t integral_set_counter = 0;
volatile long long_integral = 0;
volatile int16_t delta_temp = 0; // delta T1 i T wyliczonej z KG
volatile int16_t delta_time = 0;
volatile uint8_t sys_integral_time = 60;
volatile uint8_t integral_period_time=60;
volatile uint8_t integral_period_counter=0;
volatile int16_t integral_levels[] = {-60, -120, -150, -180, -210, -250, -300, -500, -600, -900};
volatile int8_t heating_on_temperature = 16;
volatile int8_t heating_off_temperature = 18;
volatile uint16_t cwuTime = 600;
volatile uint16_t cntCwu = 600;
volatile uint16_t coTime = 1200;
volatile uint16_t cntCo = 1200;
volatile uint16_t integral_delay_time=120;
/* legionella */
volatile uint16_t legionellaCnt = 0;
volatile uint8_t legionellaFlags = 0;
volatile uint8_t legionellaDay = 5;
volatile uint8_t legionellaHour = 1;
volatile uint8_t legionella_down_counter = 5;
volatile uint8_t prvTimeToLegionella = 0;
volatile uint8_t legionella_interval = 7;
volatile uint8_t legTime = 4;

volatile uint8_t sys_time_hour = 1;
volatile uint8_t sys_time_minute = 0;
volatile uint8_t sys_date_day = 1;
volatile uint8_t sys_date_month = 2;
volatile uint8_t sys_date_year = 11;

/* czas bezczynnosci */
volatile uint16_t system_idle_counter = 0;

/* alarmy */
volatile uint8_t alarmFirst=0;

/* temperatury */
volatile uint8_t sysMaxTemp = 80;
volatile uint8_t sysMinTemp = 3;
volatile uint8_t sysLegTemp = 60;
volatile int8_t sysMaxDZ = 0;
volatile int8_t sysMinDZ = 0;
volatile uint8_t delta_CWU = 0;



/* urlop */
volatile uint8_t urlop_days_number = 5;
volatile uint8_t urlop_co_temp = 20;
volatile uint8_t urlop_cwu_temp = 50;
volatile uint8_t urlop_is_cwu=0;
volatile uint8_t urlop_enable_down_counter=6;

/* wygrzewanie */
volatile uint8_t annealing[5];
volatile uint8_t overheating_down_counter=5;
volatile uint8_t prvAnnealingCnt=5;

volatile uint8_t cntBreakPer=0;

volatile uint16_t gui_idle_time = 1800;
volatile uint16_t gui_idle_counter = 0;
volatile uint16_t tft_flash_counter = 0;
volatile uint8_t markedDay = 0x00;
volatile uint8_t markedPr = 0x00;
volatile uint8_t prgType = 0;
volatile uint8_t prgWeekDayIndex = 0x00;
volatile uint8_t prgLevelIndex = 0x00;
volatile uint8_t prgPrevHourToChange = 0;
volatile uint8_t prgHourToChange = 0;
volatile int8_t prgMinuteToChange = 0;
volatile uint8_t prgNextHourToChange = 0;
volatile uint8_t prgTempToChange = 0;
volatile uint8_t serviceError = 0;
volatile uint8_t sys_cwu_mode = 0;
volatile uint8_t circulation_enabled = 0;
volatile uint8_t circCwuTemp = 18;
volatile uint8_t circCwuTimeOn = 10;
volatile uint8_t circCwuTimeOff = 50;
volatile uint8_t tmpTabU8[10];
volatile int8_t tmpTab8[10];
volatile uint16_t tmpTabU16[10];
volatile int16_t tmpTab16[10];
volatile uint8_t backlightInt = 0;
volatile uint8_t startCnt = 20;
const int16_t TempTab080[] = {
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,
    800,800,800,799,799,798,798,798,797,797,797,796,796,795,795,795,794,794,793,793,793,792,792,792,791,791,790,790,790,789,789,789,
    788,788,787,787,787,786,786,786,785,785,784,784,784,783,783,783,782,782,781,781,781,780,780,780,779,779,779,778,778,777,777,777,
    776,776,776,775,775,774,774,774,773,773,773,772,772,771,771,771,770,770,770,769,769,769,768,768,767,767,767,766,766,766,765,765,
    764,764,764,763,763,763,762,762,761,761,761,760,760,760,759,759,759,758,758,758,757,757,756,756,756,755,755,755,754,754,754,753,
    753,753,752,752,751,751,751,750,750,750,749,749,749,748,748,747,747,747,746,746,746,745,745,744,744,744,743,743,743,742,742,741,
    741,741,740,740,740,739,739,739,738,738,738,737,737,736,736,736,735,735,735,734,734,734,733,733,733,732,732,731,731,731,730,730,
    730,729,729,729,728,728,728,727,727,726,726,726,725,725,725,724,724,724,723,723,723,722,722,721,721,721,720,720,720,719,719,719,
    718,718,718,717,717,716,716,716,715,715,715,714,714,714,713,713,713,712,712,711,711,711,710,710,710,709,709,709,708,708,708,707,
    707,706,706,706,705,705,705,704,704,704,703,703,703,702,702,701,701,701,700,700,700,699,699,699,698,698,698,697,697,696,696,696,
    695,695,695,694,694,694,693,693,693,692,692,691,691,691,690,690,690,689,689,689,688,688,688,687,687,686,686,686,685,685,685,684,
    684,684,683,683,683,682,682,681,681,681,680,680,680,679,679,679,678,678,678,677,677,676,676,676,675,675,675,674,674,674,673,673,
    673,672,672,671,671,671,670,670,670,669,669,669,668,668,668,667,667,667,666,666,666,665,665,664,664,664,663,663,663,662,662,662,
    661,661,661,660,660,660,659,659,659,658,658,658,657,657,656,656,656,655,655,655,654,654,654,653,653,653,652,652,651,651,651,650,
    650,650,649,649,649,648,648,648,647,647,647,646,646,646,645,645,644,644,644,643,643,643,642,642,642,641,641,641,640,640,640,639,
    639,639,638,638,638,637,637,636,636,636,635,635,635,634,634,634,633,633,633,632,632,631,631,631,630,630,630,629,629,629,628,628,
    628,627,627,627,626,626,626,625,625,624,624,624,623,623,623,622,622,622,621,621,621,620,620,620,619,619,619,618,618,618,617,617,
    616,616,616,615,615,615,614,614,614,613,613,613,612,612,611,611,611,610,610,610,609,609,609,608,608,608,607,607,607,606,606,606,
    605,605,604,604,604,603,603,603,602,602,602,601,601,601,600,600,600,599,599,599,598,598,598,597,597,596,596,596,595,595,595,594,
    594,594,593,593,593,592,592,591,591,591,590,590,590,589,589,589,588,588,588,587,587,586,586,586,585,585,585,584,584,584,583,583,
    583,582,582,581,581,581,580,580,580,579,579,579,578,578,578,577,577,577,576,576,576,575,575,574,574,574,573,573,573,572,572,572,
    571,571,571,570,570,570,569,569,569,568,568,568,567,567,566,566,566,565,565,565,564,564,564,563,563,563,562,562,561,561,561,560,
    560,560,559,559,559,558,558,558,557,557,556,556,556,555,555,555,554,554,554,553,553,553,552,552,551,551,551,550,550,550,549,549,
    549,548,548,548,547,547,546,546,546,545,545,545,544,544,544,543,543,543,542,542,541,541,541,540,540,540,539,539,539,538,538,538,
    537,537,536,536,536,535,535,535,534,534,534,533,533,533,532,532,531,531,531,530,530,530,529,529,529,528,528,528,527,527,526,526,
    526,525,525,525,524,524,524,523,523,523,522,522,521,521,521,520,520,520,519,519,519,518,518,518,517,517,516,516,516,515,515,515,
    514,514,514,513,513,513,512,512,511,511,511,510,510,510,509,509,509,508,508,508,507,507,506,506,506,505,505,505,504,504,504,503,
    503,503,502,502,501,501,501,500,500,500,499,499,499,498,498,497,497,497,496,496,496,495,495,494,494,494,493,493,493,492,492,491,
    491,491,490,490,490,489,489,489,488,488,487,487,487,486,486,486,485,485,484,484,484,483,483,483,482,482,481,481,481,480,480,480,
    479,479,479,478,478,477,477,477,476,476,476,475,475,474,474,474,473,473,473,472,472,471,471,471,470,470,470,469,469,469,468,468,
    467,467,467,466,466,466,465,465,464,464,464,463,463,463,462,462,461,461,461,460,460,460,459,459,458,458,458,457,457,457,456,456,
    455,455,455,454,454,453,453,453,452,452,452,451,451,450,450,450,449,449,449,448,448,447,447,447,446,446,446,445,445,444,444,444,
    443,443,443,442,442,441,441,441,440,440,440,439,439,438,438,438,437,437,437,436,436,435,435,435,434,434,433,433,433,432,432,432,
    431,431,430,430,430,429,429,428,428,428,427,427,427,426,426,425,425,425,424,424,423,423,423,422,422,422,421,421,420,420,420,419,
    419,418,418,418,417,417,416,416,416,415,415,414,414,414,413,413,412,412,412,411,411,410,410,410,409,409,408,408,408,407,407,406,
    406,406,405,405,404,404,404,403,403,402,402,402,401,401,400,400,400,399,399,398,398,398,397,397,396,396,396,395,395,394,394,394,
    393,393,392,392,392,391,391,390,390,390,389,389,388,388,388,387,387,386,386,386,385,385,384,384,384,383,383,382,382,382,381,381,
    380,380,380,379,379,378,378,378,377,377,376,376,375,375,375,374,374,373,373,373,372,372,371,371,370,370,370,369,369,368,368,368,
    367,367,366,366,365,365,365,364,364,363,363,363,362,362,361,361,360,360,360,359,359,358,358,358,357,357,356,356,355,355,355,354,
    354,353,353,353,352,352,351,351,350,350,350,349,349,348,348,347,347,347,346,346,345,345,344,344,343,343,343,342,342,341,341,340,
    340,340,339,339,338,338,337,337,337,336,336,335,335,334,334,333,333,333,332,332,331,331,330,330,330,329,329,328,328,327,327,327,
    326,326,325,325,324,324,323,323,323,322,322,321,321,320,320,320,319,319,318,318,317,317,316,316,315,315,315,314,314,313,313,312,
    312,311,311,310,310,310,309,309,308,308,307,307,306,306,305,305,305,304,304,303,303,302,302,301,301,300,300,300,299,299,298,298,
    297,297,296,296,295,295,294,294,293,293,292,292,291,291,290,290,290,289,289,288,288,287,287,286,286,285,285,284,284,283,283,282,
    282,281,281,280,280,280,279,279,278,278,277,277,276,276,275,275,274,274,273,273,272,272,271,271,270,270,270,269,269,268,268,267,
    267,266,266,265,265,264,264,263,263,262,262,261,261,260,260,259,259,258,258,257,257,256,256,255,255,254,254,253,253,252,252,251,
    251,250,250,249,249,248,248,247,247,246,246,245,245,244,244,243,243,242,242,241,241,240,239,239,238,238,237,237,236,236,235,235,
    234,234,233,233,232,232,231,231,230,229,229,228,228,227,227,226,226,225,225,224,224,223,223,222,222,221,221,220,219,219,218,218,
    217,217,216,216,215,214,214,213,213,212,212,211,211,210,209,209,208,208,207,207,206,206,205,204,204,203,203,202,202,201,201,200,
    199,199,198,198,197,197,196,196,195,194,194,193,193,192,192,191,191,190,189,189,188,188,187,186,186,185,185,184,184,183,182,182,
    181,181,180,179,179,178,178,177,176,176,175,174,174,173,173,172,171,171,170,169,169,168,168,167,166,166,165,165,164,164,163,162,
    162,161,161,160,159,159,158,158,157,156,156,155,154,154,153,153,152,151,151,150,149,149,148,147,147,146,145,145,144,143,143,142,
    141,141,140,139,139,138,137,137,136,135,135,134,133,133,132,131,131,130,129,129,128,127,127,126,125,125,124,123,123,122,121,121,
    120,119,119,118,117,116,116,115,114,114,113,112,111,111,110,109,109,108,107,106,106,105,104,104,103,102,101,101,100,99,99,98,
    97,96,96,95,94,94,93,92,91,91,90,89,88,88,87,86,85,85,84,83,82,82,81,80,79,78,78,77,76,75,75,74,
    73,72,72,71,70,69,68,68,67,66,65,64,63,63,62,61,60,59,58,58,57,56,55,54,53,53,52,51,50,49,48,48,
    47,46,45,44,43,43,42,41,40,39,38,37,36,35,35,34,33,32,31,30,29,28,27,26,25,25,24,23,22,21,20,19,
    18,17,16,15,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
};
const int16_t TempTabm2030[] = {
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,300,
    300,300,300,300,300,300,299,299,299,298,298,298,298,297,297,297,296,296,296,295,295,295,295,294,294,294,293,293,293,292,292,292,
    292,291,291,291,290,290,290,289,289,289,289,288,288,288,287,287,287,286,286,286,286,285,285,285,284,284,284,284,283,283,283,282,
    282,282,281,281,281,281,280,280,280,279,279,279,279,278,278,278,277,277,277,276,276,276,276,275,275,275,274,274,274,274,273,273,
    273,272,272,272,271,271,271,271,270,270,270,269,269,269,269,268,268,268,267,267,267,267,266,266,266,265,265,265,265,264,264,264,
    263,263,263,263,262,262,262,261,261,261,261,260,260,260,259,259,259,259,258,258,258,258,257,257,257,256,256,256,256,255,255,255,
    254,254,254,254,253,253,253,253,252,252,252,251,251,251,251,250,250,250,249,249,249,249,248,248,248,248,247,247,247,246,246,246,
    246,245,245,245,245,244,244,244,244,243,243,243,242,242,242,242,241,241,241,241,240,240,240,239,239,239,239,238,238,238,238,237,
    237,237,236,236,236,236,235,235,235,235,234,234,234,234,233,233,233,232,232,232,232,231,231,231,231,230,230,230,229,229,229,229,
    228,228,228,228,227,227,227,226,226,226,226,225,225,225,225,224,224,224,224,223,223,223,222,222,222,222,221,221,221,221,220,220,
    220,219,219,219,219,218,218,218,218,217,217,217,217,216,216,216,216,215,215,215,215,214,214,214,214,213,213,213,213,212,212,212,
    212,211,211,211,211,210,210,210,209,209,209,209,208,208,208,208,207,207,207,207,206,206,206,206,205,205,205,205,204,204,204,204,
    203,203,203,203,202,202,202,202,201,201,201,201,200,200,200,200,199,199,199,199,198,198,198,198,197,197,197,197,196,196,196,196,
    195,195,195,195,194,194,194,194,193,193,193,193,192,192,192,192,191,191,191,191,190,190,190,190,189,189,189,189,188,188,188,188,
    187,187,187,187,186,186,186,186,185,185,185,185,184,184,184,184,183,183,183,183,182,182,182,182,181,181,181,181,180,180,180,180,
    179,179,179,179,178,178,178,178,177,177,177,177,176,176,176,176,175,175,175,175,174,174,174,174,173,173,173,173,172,172,172,172,
    171,171,171,171,170,170,170,170,170,169,169,169,169,168,168,168,168,167,167,167,167,166,166,166,166,165,165,165,165,165,164,164,
    164,164,163,163,163,163,162,162,162,162,161,161,161,161,160,160,160,160,160,159,159,159,159,158,158,158,158,157,157,157,157,156,
    156,156,156,155,155,155,155,155,154,154,154,154,153,153,153,153,152,152,152,152,151,151,151,151,150,150,150,150,150,149,149,149,
    149,148,148,148,148,147,147,147,147,146,146,146,146,145,145,145,145,145,144,144,144,144,143,143,143,143,142,142,142,142,141,141,
    141,141,140,140,140,140,140,139,139,139,139,138,138,138,138,137,137,137,137,137,136,136,136,136,135,135,135,135,134,134,134,134,
    133,133,133,133,133,132,132,132,132,131,131,131,131,130,130,130,130,130,129,129,129,129,128,128,128,128,128,127,127,127,127,126,
    126,126,126,125,125,125,125,125,124,124,124,124,123,123,123,123,123,122,122,122,122,121,121,121,121,120,120,120,120,120,119,119,
    119,119,118,118,118,118,118,117,117,117,117,116,116,116,116,115,115,115,115,115,114,114,114,114,113,113,113,113,113,112,112,112,
    112,111,111,111,111,110,110,110,110,110,109,109,109,109,108,108,108,108,108,107,107,107,107,106,106,106,106,105,105,105,105,105,
    104,104,104,104,103,103,103,103,103,102,102,102,102,101,101,101,101,100,100,100,100,100,99,99,99,99,98,98,98,98,98,97,
    97,97,97,96,96,96,96,96,95,95,95,95,94,94,94,94,94,93,93,93,93,92,92,92,92,92,91,91,91,91,90,90,
    90,90,90,89,89,89,89,88,88,88,88,88,87,87,87,87,86,86,86,86,86,85,85,85,85,84,84,84,84,84,83,83,
    83,83,82,82,82,82,82,81,81,81,81,80,80,80,80,80,79,79,79,79,78,78,78,78,78,77,77,77,77,76,76,76,
    76,76,75,75,75,75,74,74,74,74,74,73,73,73,73,72,72,72,72,72,71,71,71,71,70,70,70,70,70,69,69,69,
    69,68,68,68,68,68,67,67,67,67,67,66,66,66,66,65,65,65,65,65,64,64,64,64,63,63,63,63,63,62,62,62,
    62,62,61,61,61,61,60,60,60,60,60,59,59,59,59,58,58,58,58,58,57,57,57,57,56,56,56,56,56,55,55,55,
    55,54,54,54,54,54,53,53,53,53,52,52,52,52,52,51,51,51,51,50,50,50,50,50,49,49,49,49,48,48,48,48,
    48,47,47,47,47,47,46,46,46,46,45,45,45,45,45,44,44,44,44,43,43,43,43,43,42,42,42,42,42,41,41,41,
    41,40,40,40,40,40,39,39,39,39,39,38,38,38,38,37,37,37,37,37,36,36,36,36,36,35,35,35,35,34,34,34,
    34,34,33,33,33,33,33,32,32,32,32,31,31,31,31,31,30,30,30,30,30,29,29,29,29,28,28,28,28,28,27,27,
    27,27,27,26,26,26,26,25,25,25,25,25,24,24,24,24,23,23,23,23,23,22,22,22,22,22,21,21,21,21,20,20,
    20,20,20,19,19,19,19,18,18,18,18,18,17,17,17,17,17,16,16,16,16,15,15,15,15,15,14,14,14,14,13,13,
    13,13,13,12,12,12,12,12,11,11,11,11,10,10,10,10,10,9,9,9,9,8,8,8,8,8,7,7,7,7,7,6,
    6,6,6,5,5,5,5,5,4,4,4,4,3,3,3,3,3,2,2,2,2,2,1,1,1,1,0,0,0,0,0,-1,
    -1,-1,-1,-2,-2,-2,-2,-2,-3,-3,-3,-3,-3,-4,-4,-4,-4,-5,-5,-5,-5,-5,-6,-6,-6,-6,-7,-7,-7,-7,-7,-8,
    -8,-8,-8,-8,-9,-9,-9,-9,-10,-10,-10,-10,-10,-11,-11,-11,-11,-12,-12,-12,-12,-12,-13,-13,-13,-13,-13,-14,-14,-14,-14,-15,
    -15,-15,-15,-15,-16,-16,-16,-16,-17,-17,-17,-17,-17,-18,-18,-18,-18,-18,-19,-19,-19,-19,-20,-20,-20,-20,-20,-21,-21,-21,-21,-22,
    -22,-22,-22,-22,-23,-23,-23,-23,-23,-24,-24,-24,-24,-25,-25,-25,-25,-25,-26,-26,-26,-26,-27,-27,-27,-27,-27,-28,-28,-28,-28,-28,
    -29,-29,-29,-29,-30,-30,-30,-30,-30,-31,-31,-31,-31,-32,-32,-32,-32,-32,-33,-33,-33,-33,-33,-34,-34,-34,-34,-35,-35,-35,-35,-35,
    -36,-36,-36,-36,-37,-37,-37,-37,-37,-38,-38,-38,-38,-38,-39,-39,-39,-39,-40,-40,-40,-40,-40,-41,-41,-41,-41,-42,-42,-42,-42,-42,
    -43,-43,-43,-43,-43,-44,-44,-44,-44,-45,-45,-45,-45,-45,-46,-46,-46,-46,-47,-47,-47,-47,-47,-48,-48,-48,-48,-48,-49,-49,-49,-49,
    -50,-50,-50,-50,-50,-51,-51,-51,-51,-52,-52,-52,-52,-52,-53,-53,-53,-53,-54,-54,-54,-54,-54,-55,-55,-55,-55,-56,-56,-56,-56,-56,
    -57,-57,-57,-57,-58,-58,-58,-58,-58,-59,-59,-59,-59,-60,-60,-60,-60,-60,-61,-61,-61,-61,-62,-62,-62,-62,-62,-63,-63,-63,-63,-64,
    -64,-64,-64,-64,-65,-65,-65,-65,-66,-66,-66,-66,-66,-67,-67,-67,-67,-68,-68,-68,-68,-68,-69,-69,-69,-69,-70,-70,-70,-70,-70,-71,
    -71,-71,-71,-72,-72,-72,-72,-73,-73,-73,-73,-73,-74,-74,-74,-74,-75,-75,-75,-75,-75,-76,-76,-76,-76,-77,-77,-77,-77,-78,-78,-78,
    -78,-78,-79,-79,-79,-79,-80,-80,-80,-80,-80,-81,-81,-81,-81,-82,-82,-82,-82,-83,-83,-83,-83,-83,-84,-84,-84,-84,-85,-85,-85,-85,
    -85,-86,-86,-86,-86,-87,-87,-87,-87,-88,-88,-88,-88,-88,-89,-89,-89,-89,-90,-90,-90,-90,-90,-91,-91,-91,-91,-92,-92,-92,-92,-93,
    -93,-93,-93,-93,-94,-94,-94,-94,-95,-95,-95,-95,-95,-96,-96,-96,-96,-97,-97,-97,-97,-98,-98,-98,-98,-98,-99,-99,-99,-99,-100,-100,
    -100,-100,-100,-101,-101,-101,-101,-102,-102,-102,-102,-103,-103,-103,-103,-103,-104,-104,-104,-104,-105,-105,-105,-105,-106,-106,-106,-106,-107,-107,-107,-107,
    -107,-108,-108,-108,-108,-109,-109,-109,-109,-110,-110,-110,-110,-110,-111,-111,-111,-111,-112,-112,-112,-112,-113,-113,-113,-113,-113,-114,-114,-114,-114,-115,
    -115,-115,-115,-116,-116,-116,-116,-117,-117,-117,-117,-117,-118,-118,-118,-118,-119,-119,-119,-119,-120,-120,-120,-120,-120,-121,-121,-121,-121,-122,-122,-122,
    -122,-123,-123,-123,-123,-124,-124,-124,-124,-125,-125,-125,-125,-125,-126,-126,-126,-126,-127,-127,-127,-127,-128,-128,-128,-128,-129,-129,-129,-129,-130,-130,
    -130,-130,-130,-131,-131,-131,-131,-132,-132,-132,-132,-133,-133,-133,-133,-134,-134,-134,-134,-135,-135,-135,-135,-136,-136,-136,-136,-137,-137,-137,-137,-138,
    -138,-138,-138,-139,-139,-139,-139,-140,-140,-140,-140,-140,-141,-141,-141,-141,-142,-142,-142,-142,-143,-143,-143,-143,-144,-144,-144,-144,-145,-145,-145,-145,
    -146,-146,-146,-146,-147,-147,-147,-147,-148,-148,-148,-148,-149,-149,-149,-149,-150,-150,-150,-150,-151,-151,-151,-151,-152,-152,-152,-152,-153,-153,-153,-153,
    -154,-154,-154,-154,-155,-155,-155,-155,-156,-156,-156,-156,-157,-157,-157,-157,-158,-158,-158,-158,-159,-159,-159,-159,-160,-160,-160,-160,-161,-161,-161,-161,
    -162,-162,-162,-162,-163,-163,-163,-163,-164,-164,-164,-164,-165,-165,-165,-165,-166,-166,-166,-166,-167,-167,-167,-167,-168,-168,-168,-168,-169,-169,-169,-169,
    -170,-170,-170,-170,-171,-171,-171,-171,-172,-172,-172,-172,-173,-173,-173,-173,-174,-174,-174,-174,-175,-175,-175,-176,-176,-176,-176,-177,-177,-177,-177,-178,
    -178,-178,-178,-179,-179,-179,-179,-180,-180,-180,-181,-181,-181,-181,-182,-182,-182,-182,-183,-183,-183,-183,-184,-184,-184,-184,-185,-185,-185,-186,-186,-186,
    -186,-187,-187,-187,-187,-188,-188,-188,-188,-189,-189,-189,-189,-190,-190,-190,-191,-191,-191,-191,-192,-192,-192,-192,-193,-193,-193,-194,-194,-194,-194,-195,
    -195,-195,-195,-196,-196,-196,-196,-197,-197,-197,-198,-198,-198,-198,-199,-199,-199,-199,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,
    -200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200
};
const int16_t TempTabm4060[]={
    600,600,600,600,600,600,600,599,599,599,599,599,599,599,599,599,599,599,599,599,599,599,599,598,598,598,598,598,598,598,598,598,
    598,598,598,598,598,598,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,596,596,596,596,596,596,596,596,596,596,596,
    596,596,596,596,596,595,595,595,595,595,595,595,595,595,595,595,595,595,595,595,594,594,594,594,594,594,594,594,594,594,594,594,
    594,594,594,594,593,593,593,593,593,593,593,593,593,593,593,593,593,593,593,592,592,592,592,592,592,592,592,592,592,592,592,592,
    592,592,591,591,591,591,591,591,591,591,591,591,591,591,591,591,591,591,590,590,590,590,590,590,590,590,598,596,594,592,590,588,
    586,584,582,580,578,577,575,573,572,570,568,566,564,562,560,558,556,554,552,550,549,547,546,544,543,541,540,538,537,535,533,532,
    530,528,527,525,523,522,520,519,517,516,514,513,511,510,508,507,505,503,502,500,499,498,496,495,494,493,491,490,489,487,486,484,
    483,481,480,479,478,476,475,474,473,471,470,469,468,466,465,464,463,461,460,459,457,456,454,453,451,450,449,448,447,446,445,444,
    443,442,441,440,439,438,437,436,434,433,432,431,430,429,428,427,426,424,423,422,421,420,419,418,417,416,415,414,413,412,411,410,
    409,408,407,406,404,403,402,401,400,399,398,397,396,395,395,394,393,392,391,390,389,388,388,387,386,385,384,383,383,382,381,380,
    379,378,377,376,375,375,374,373,372,371,370,369,368,367,366,365,365,364,363,362,361,360,359,358,357,356,355,355,354,353,352,351,
    350,349,349,348,347,346,346,345,344,344,343,342,341,341,340,339,339,338,337,336,336,335,334,334,333,332,331,331,330,329,328,328,
    327,326,325,325,324,323,322,322,321,320,319,319,318,317,316,316,315,314,314,313,312,311,311,310,309,308,308,307,306,305,305,304,
    303,302,302,301,300,299,299,298,298,297,296,296,295,295,294,294,293,292,292,291,291,290,289,289,288,288,287,286,286,285,285,284,
    284,283,282,282,281,281,280,279,279,278,278,277,276,276,275,274,274,273,273,272,271,271,270,269,269,268,268,267,266,266,265,265,
    264,264,263,262,262,261,261,260,259,259,258,258,257,256,256,255,254,254,253,253,252,251,251,250,250,249,249,248,248,247,247,246,
    246,245,245,244,244,243,243,242,242,241,241,240,240,240,239,239,238,238,237,237,236,236,235,235,234,234,233,233,232,232,231,231,
    230,230,229,229,228,228,227,227,226,226,225,225,224,224,223,223,222,222,221,221,220,220,219,219,218,218,217,217,216,216,215,215,
    214,214,213,213,212,212,211,211,210,210,209,209,208,208,207,207,206,206,205,205,204,204,203,203,202,202,201,201,200,200,199,199,
    198,198,198,197,197,196,196,195,195,195,194,194,193,193,193,192,192,191,191,190,190,190,189,189,188,188,188,187,187,186,186,186,
    185,185,184,184,184,183,183,182,182,182,181,181,180,180,180,179,179,178,178,178,177,177,176,176,175,175,175,174,174,173,173,173,
    172,172,171,171,170,170,170,169,169,168,168,168,167,167,166,166,166,165,165,164,164,164,163,163,162,162,162,161,161,160,160,160,
    159,159,158,158,158,157,157,156,156,155,155,155,154,154,153,153,153,152,152,151,151,150,150,150,149,149,149,148,148,148,147,147,
    147,146,146,146,145,145,145,144,144,144,143,143,143,142,142,142,141,141,141,140,140,140,139,139,139,138,138,138,137,137,137,136,
    136,136,135,135,135,134,134,134,133,133,133,132,132,132,131,131,131,130,130,130,129,129,129,128,128,128,127,127,127,126,126,126,
    125,125,124,124,124,123,123,123,122,122,122,121,121,121,120,120,120,119,119,119,118,118,118,117,117,117,116,116,116,115,115,114,
    114,114,113,113,113,112,112,112,111,111,111,110,110,110,109,109,109,108,108,108,107,107,107,106,106,106,105,105,104,104,104,103,
    103,103,102,102,102,101,101,101,100,100,100,99,99,99,99,98,98,98,98,97,97,97,96,96,96,96,95,95,95,95,94,94,
    94,94,93,93,93,92,92,92,92,91,91,91,91,90,90,90,89,89,89,89,88,88,88,88,87,87,87,86,86,86,86,85,
    85,85,84,84,84,84,83,83,83,83,82,82,82,81,81,81,81,80,80,80,79,79,79,79,78,78,78,77,77,77,77,76,
    76,76,75,75,75,75,74,74,74,73,73,73,73,72,72,72,71,71,71,71,70,70,70,69,69,69,69,68,68,68,67,67,
    67,67,66,66,66,65,65,65,65,64,64,64,63,63,63,63,62,62,62,61,61,61,61,60,60,60,59,59,59,59,58,58,
    58,57,57,57,57,56,56,56,55,55,55,55,54,54,54,53,53,53,53,52,52,52,51,51,51,51,50,50,50,50,49,49,
    49,49,48,48,48,48,48,47,47,47,47,46,46,46,46,45,45,45,45,45,44,44,44,44,43,43,43,43,43,42,42,42,
    42,41,41,41,41,40,40,40,40,40,39,39,39,39,38,38,38,38,37,37,37,37,37,36,36,36,36,35,35,35,35,34,
    34,34,34,33,33,33,33,33,32,32,32,32,31,31,31,31,30,30,30,30,30,29,29,29,29,28,28,28,28,27,27,27,
    27,27,26,26,26,26,25,25,25,25,24,24,24,24,23,23,23,23,23,22,22,22,22,21,21,21,21,20,20,20,20,20,
    19,19,19,19,18,18,18,18,17,17,17,17,16,16,16,16,15,15,15,15,15,14,14,14,14,13,13,13,13,12,12,12,
    12,11,11,11,11,10,10,10,10,10,9,9,9,9,8,8,8,8,7,7,7,7,6,6,6,6,5,5,5,5,4,4,
    4,4,3,3,3,3,2,2,2,2,1,1,1,1,0,0,0,0,0,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-3,-3,-3,
    -3,-3,-3,-4,-4,-4,-4,-4,-5,-5,-5,-5,-5,-6,-6,-6,-6,-6,-7,-7,-7,-7,-7,-8,-8,-8,-8,-8,-8,-9,-9,-9,
    -9,-9,-10,-10,-10,-10,-10,-11,-11,-11,-11,-11,-12,-12,-12,-12,-12,-13,-13,-13,-13,-13,-13,-14,-14,-14,-14,-14,-15,-15,-15,-15,
    -15,-16,-16,-16,-16,-16,-17,-17,-17,-17,-17,-18,-18,-18,-18,-18,-18,-19,-19,-19,-19,-19,-20,-20,-20,-20,-20,-21,-21,-21,-21,-21,
    -22,-22,-22,-22,-22,-23,-23,-23,-23,-23,-24,-24,-24,-24,-24,-25,-25,-25,-25,-25,-26,-26,-26,-26,-26,-27,-27,-27,-27,-27,-28,-28,
    -28,-28,-28,-29,-29,-29,-29,-29,-30,-30,-30,-30,-30,-31,-31,-31,-31,-31,-32,-32,-32,-32,-32,-33,-33,-33,-33,-33,-34,-34,-34,-34,
    -34,-35,-35,-35,-35,-35,-36,-36,-36,-36,-36,-37,-37,-37,-37,-37,-38,-38,-38,-38,-38,-39,-39,-39,-39,-39,-40,-40,-40,-40,-40,-41,
    -41,-41,-41,-41,-42,-42,-42,-42,-43,-43,-43,-43,-43,-44,-44,-44,-44,-44,-45,-45,-45,-45,-45,-46,-46,-46,-46,-46,-47,-47,-47,-47,
    -48,-48,-48,-48,-48,-49,-49,-49,-49,-49,-50,-50,-50,-50,-50,-50,-51,-51,-51,-51,-51,-51,-52,-52,-52,-52,-52,-52,-53,-53,-53,-53,
    -53,-53,-54,-54,-54,-54,-54,-54,-55,-55,-55,-55,-55,-55,-55,-56,-56,-56,-56,-56,-56,-57,-57,-57,-57,-57,-57,-58,-58,-58,-58,-58,
    -58,-59,-59,-59,-59,-59,-59,-60,-60,-60,-60,-60,-60,-61,-61,-61,-61,-61,-61,-62,-62,-62,-62,-62,-62,-63,-63,-63,-63,-63,-63,-64,
    -64,-64,-64,-64,-64,-65,-65,-65,-65,-65,-65,-66,-66,-66,-66,-66,-66,-67,-67,-67,-67,-67,-67,-68,-68,-68,-68,-68,-68,-69,-69,-69,
    -69,-69,-69,-70,-70,-70,-70,-70,-70,-71,-71,-71,-71,-71,-71,-72,-72,-72,-72,-72,-72,-73,-73,-73,-73,-73,-73,-74,-74,-74,-74,-74,
    -74,-75,-75,-75,-75,-75,-75,-76,-76,-76,-76,-76,-76,-77,-77,-77,-77,-77,-77,-78,-78,-78,-78,-78,-78,-79,-79,-79,-79,-79,-79,-80,
    -80,-80,-80,-80,-81,-81,-81,-81,-81,-81,-82,-82,-82,-82,-82,-82,-83,-83,-83,-83,-83,-83,-84,-84,-84,-84,-84,-84,-85,-85,-85,-85,
    -85,-86,-86,-86,-86,-86,-86,-87,-87,-87,-87,-87,-87,-88,-88,-88,-88,-88,-88,-89,-89,-89,-89,-89,-89,-90,-90,-90,-90,-90,-91,-91,
    -91,-91,-91,-91,-92,-92,-92,-92,-92,-93,-93,-93,-93,-93,-93,-94,-94,-94,-94,-94,-94,-95,-95,-95,-95,-95,-96,-96,-96,-96,-96,-96,
    -97,-97,-97,-97,-97,-98,-98,-98,-98,-98,-98,-99,-99,-99,-99,-99,-99,-100,-100,-100,-100,-100,-100,-101,-101,-101,-101,-101,-101,-101,-102,-102,
    -102,-102,-102,-102,-102,-103,-103,-103,-103,-103,-103,-103,-103,-104,-104,-104,-104,-104,-104,-104,-105,-105,-105,-105,-105,-105,-105,-106,-106,-106,-106,-106,
    -106,-106,-107,-107,-107,-107,-107,-107,-107,-108,-108,-108,-108,-108,-108,-108,-108,-109,-109,-109,-109,-109,-109,-109,-110,-110,-110,-110,-110,-110,-110,-111,
    -111,-111,-111,-111,-111,-111,-112,-112,-112,-112,-112,-112,-112,-113,-113,-113,-113,-113,-113,-113,-114,-114,-114,-114,-114,-114,-114,-115,-115,-115,-115,-115,
    -115,-115,-116,-116,-116,-116,-116,-116,-116,-117,-117,-117,-117,-117,-117,-117,-118,-118,-118,-118,-118,-118,-118,-119,-119,-119,-119,-119,-119,-119,-120,-120,
    -120,-120,-120,-120,-120,-121,-121,-121,-121,-121,-121,-121,-122,-122,-122,-122,-122,-122,-123,-123,-123,-123,-123,-123,-123,-124,-124,-124,-124,-124,-124,-124,
    -125,-125,-125,-125,-125,-125,-125,-126,-126,-126,-126,-126,-126,-126,-127,-127,-127,-127,-127,-127,-128,-128,-128,-128,-128,-128,-128,-129,-129,-129,-129,-129,
    -129,-129,-130,-130,-130,-130,-130,-130,-130,-131,-131,-131,-131,-131,-131,-132,-132,-132,-132,-132,-132,-132,-133,-133,-133,-133,-133,-133,-133,-134,-134,-134,
    -134,-134,-134,-135,-135,-135,-135,-135,-135,-135,-136,-136,-136,-136,-136,-136,-137,-137,-137,-137,-137,-137,-137,-138,-138,-138,-138,-138,-138,-138,-139,-139,
    -139,-139,-139,-139,-140,-140,-140,-140,-140,-140,-140,-141,-141,-141,-141,-141,-141,-142,-142,-142,-142,-142,-142,-142,-143,-143,-143,-143,-143,-143,-144,-144,
    -144,-144,-144,-144,-144,-145,-145,-145,-145,-145,-145,-146,-146,-146,-146,-146,-146,-146,-147,-147,-147,-147,-147,-147,-148,-148,-148,-148,-148,-148,-148,-149,
    -149,-149,-149,-149,-149,-150,-150,-150,-150,-150,-150,-150,-150,-151,-151,-151,-151,-151,-151,-151,-151,-152,-152,-152,-152,-152,-152,-152,-152,-153,-153,-153,
    -153,-153,-153,-153,-153,-154,-154,-154,-154,-154,-154,-154,-154,-155,-155,-155,-155,-155,-155,-155,-155,-155,-156,-156,-156,-156,-156,-156,-156,-156,-157,-157,
    -157,-157,-157,-157,-157,-157,-158,-158,-158,-158,-158,-158,-158,-158,-159,-159,-159,-159,-159,-159,-159,-159,-160,-160,-160,-160,-160,-160,-160,-160,-161,-161,
    -161,-161,-161,-161,-161,-161,-162,-162,-162,-162,-162,-162,-162,-162,-163,-163,-163,-163,-163,-163,-163,-163,-164,-164,-164,-164,-164,-164,-164,-164,-165,-165,
    -165,-165,-165,-165,-165,-165,-166,-166,-166,-166,-166,-166,-166,-166,-167,-167,-167,-167,-167,-167,-167,-167,-168,-168,-168,-168,-168,-168,-168,-168,-169,-169,
    -169,-169,-169,-169,-169,-169,-170,-170,-170,-170,-170,-170,-170,-171,-171,-171,-171,-171,-171,-171,-171,-172,-172,-172,-172,-172,-172,-172,-173,-173,-173,-173,
    -173,-173,-173,-173,-174,-174,-174,-174,-174,-174,-174,-174,-175,-175,-175,-175,-175,-175,-175,-176,-176,-176,-176,-176,-176,-176,-176,-177,-177,-177,-177,-177,
    -177,-177,-178,-178,-178,-178,-178,-178,-178,-178,-179,-179,-179,-179,-179,-179,-179,-179,-180,-180,-180,-180,-180,-180,-180,-181,-181,-181,-181,-181,-181,-181,
    -181,-182,-182,-182,-182,-182,-182,-182,-183,-183,-183,-183,-183,-183,-183,-184,-184,-184,-184,-184,-184,-184,-184,-185,-185,-185,-185,-185,-185,-185,-186,-186,
    -186,-186,-186,-186,-186,-186,-187,-187,-187,-187,-187,-187,-187,-188,-188,-188,-188,-188,-188,-188,-189,-189,-189,-189,-189,-189,-189,-189,-190,-190,-190,-190,
    -190,-190,-190,-191,-191,-191,-191,-191,-191,-191,-192,-192,-192,-192,-192,-192,-192,-193,-193,-193,-193,-193,-193,-193,-193,-194,-194,-194,-194,-194,-194,-194,
    -195,-195,-195,-195,-195,-195,-195,-196,-196,-196,-196,-196,-196,-196,-197,-197,-197,-197,-197,-197,-197,-198,-198,-198,-198,-198,-198,-198,-198,-199,-199,-199,
    -199,-199,-199,-199,-200,-200,-200,-200,-200,-200,-200,-200,-201,-201,-201,-201,-201,-201,-201,-201,-201,-202,-202,-202,-202,-202,-202,-202,-202,-202,-203,-203,
    -203,-203,-203,-203,-203,-203,-203,-204,-204,-204,-204,-204,-204,-204,-204,-204,-205,-205,-205,-205,-205,-205,-205,-205,-205,-205,-206,-206,-206,-206,-206,-206,
    -206,-206,-206,-207,-207,-207,-207,-207,-207,-207,-207,-207,-208,-208,-208,-208,-208,-208,-208,-208,-208,-209,-209,-209,-209,-209,-209,-209,-209,-209,-210,-210,
    -210,-210,-210,-210,-210,-210,-210,-211,-211,-211,-211,-211,-211,-211,-211,-211,-212,-212,-212,-212,-212,-212,-212,-212,-213,-213,-213,-213,-213,-213,-213,-213,
    -213,-214,-214,-214,-214,-214,-214,-214,-214,-214,-215,-215,-215,-215,-215,-215,-215,-215,-215,-216,-216,-216,-216,-216,-216,-216,-216,-216,-217,-217,-217,-217,
    -217,-217,-217,-217,-218,-218,-218,-218,-218,-218,-218,-218,-218,-219,-219,-219,-219,-219,-219,-219,-219,-219,-220,-220,-220,-220,-220,-220,-220,-220,-220,-221,
    -221,-221,-221,-221,-221,-221,-221,-222,-222,-222,-222,-222,-222,-222,-222,-223,-223,-223,-223,-223,-223,-223,-223,-223,-224,-224,-224,-224,-224,-224,-224,-224,
    -225,-225,-225,-225,-225,-225,-225,-225,-225,-226,-226,-226,-226,-226,-226,-226,-226,-227,-227,-227,-227,-227,-227,-227,-227,-228,-228,-228,-228,-228,-228,-228,
    -228,-228,-229,-229,-229,-229,-229,-229,-229,-229,-230,-230,-230,-230,-230,-230,-230,-230,-231,-231,-231,-231,-231,-231,-231,-231,-232,-232,-232,-232,-232,-232,
    -232,-232,-233,-233,-233,-233,-233,-233,-233,-233,-234,-234,-234,-234,-234,-234,-234,-234,-235,-235,-235,-235,-235,-235,-235,-235,-236,-236,-236,-236,-236,-236,
    -236,-236,-237,-237,-237,-237,-237,-237,-237,-237,-238,-238,-238,-238,-238,-238,-238,-238,-239,-239,-239,-239,-239,-239,-239,-239,-240,-240,-240,-240,-240,-240,
    -240,-240,-241,-241,-241,-241,-241,-241,-241,-241,-242,-242,-242,-242,-242,-242,-242,-242,-243,-243,-243,-243,-243,-243,-243,-243,-244,-244,-244,-244,-244,-244,
    -244,-244,-245,-245,-245,-245,-245,-245,-245,-246,-246,-246,-246,-246,-246,-246,-246,-247,-247,-247,-247,-247,-247,-247,-247,-248,-248,-248,-248,-248,-248,-248,
    -248,-249,-249,-249,-249,-249,-249,-249,-249,-250,-250,-250,-250,-250,-250,-250,-250,-251,-251,-251,-251,-251,-251,-251,-251,-251,-251,-252,-252,-252,-252,-252,
    -252,-252,-252,-252,-252,-253,-253,-253,-253,-253,-253,-253,-253,-253,-253,-254,-254,-254,-254,-254,-254,-254,-254,-254,-254,-255,-255,-255,-255,-255,-255,-255,
    -255,-255,-255,-256,-256,-256,-256,-256,-256,-256,-256,-256,-256,-257,-257,-257,-257,-257,-257,-257,-257,-257,-257,-258,-258,-258,-258,-258,-258,-258,-258,-258,
    -258,-259,-259,-259,-259,-259,-259,-259,-259,-259,-259,-260,-260,-260,-260,-260,-260,-260,-260,-260,-261,-261,-261,-261,-261,-261,-261,-261,-261,-261,-262,-262,
    -262,-262,-262,-262,-262,-262,-262,-263,-263,-263,-263,-263,-263,-263,-263,-263,-264,-264,-264,-264,-264,-264,-264,-264,-264,-264,-265,-265,-265,-265,-265,-265,
    -265,-265,-265,-266,-266,-266,-266,-266,-266,-266,-266,-266,-266,-267,-267,-267,-267,-267,-267,-267,-267,-267,-268,-268,-268,-268,-268,-268,-268,-268,-268,-269,
    -269,-269,-269,-269,-269,-269,-269,-269,-269,-270,-270,-270,-270,-270,-270,-270,-270,-270,-271,-271,-271,-271,-271,-271,-271,-271,-271,-272,-272,-272,-272,-272,
    -272,-272,-272,-272,-273,-273,-273,-273,-273,-273,-273,-273,-273,-274,-274,-274,-274,-274,-274,-274,-274,-274,-275,-275,-275,-275,-275,-275,-275,-275,-276,-276,
    -276,-276,-276,-276,-276,-276,-276,-277,-277,-277,-277,-277,-277,-277,-277,-277,-278,-278,-278,-278,-278,-278,-278,-278,-278,-279,-279,-279,-279,-279,-279,-279,
    -279,-279,-280,-280,-280,-280,-280,-280,-280,-280,-280,-281,-281,-281,-281,-281,-281,-281,-281,-282,-282,-282,-282,-282,-282,-282,-282,-282,-283,-283,-283,-283,
    -283,-283,-283,-283,-284,-284,-284,-284,-284,-284,-284,-284,-284,-285,-285,-285,-285,-285,-285,-285,-285,-286,-286,-286,-286,-286,-286,-286,-286,-286,-287,-287,
    -287,-287,-287,-287,-287,-287,-288,-288,-288,-288,-288,-288,-288,-288,-288,-289,-289,-289,-289,-289,-289,-289,-289,-290,-290,-290,-290,-290,-290,-290,-290,-290,
    -291,-291,-291,-291,-291,-291,-291,-291,-292,-292,-292,-292,-292,-292,-292,-292,-293,-293,-293,-293,-293,-293,-293,-293,-294,-294,-294,-294,-294,-294,-294,-294,
    -295,-295,-295,-295,-295,-295,-295,-295,-296,-296,-296,-296,-296,-296,-296,-296,-297,-297,-297,-297,-297,-297,-297,-297,-298,-298,-298,-298,-298,-298,-298,-298,
    -299,-299,-299,-299,-299,-299,-299,-299,-300,-300,-300,-300,-300,-300,-300,-300,-300,-300,-301,-301,-301,-301,-301,-301,-301,-301,-301,-301,-302,-302,-302,-302,
    -302,-302,-302,-302,-302,-302,-303,-303,-303,-303,-303,-303,-303,-303,-303,-303,-303,-304,-304,-304,-304,-304,-304,-304,-304,-304,-304,-305,-305,-305,-305,-305,
    -305,-305,-305,-305,-305,-305,-306,-306,-306,-306,-306,-306,-306,-306,-306,-306,-307,-307,-307,-307,-307,-307,-307,-307,-307,-307,-308,-308,-308,-308,-308,-308,
    -308,-308,-308,-308,-308,-309,-309,-309,-309,-309,-309,-309,-309,-309,-309,-310,-310,-310,-310,-310,-310,-310,-310,-310,-310,-311,-311,-311,-311,-311,-311,-311,
    -311,-311,-311,-312,-312,-312,-312,-312,-312,-312,-312,-312,-312,-313,-313,-313,-313,-313,-313,-313,-313,-313,-314,-314,-314,-314,-314,-314,-314,-314,-314,-314,
    -315,-315,-315,-315,-315,-315,-315,-315,-315,-315,-316,-316,-316,-316,-316,-316,-316,-316,-316,-316,-317,-317,-317,-317,-317,-317,-317,-317,-317,-318,-318,-318,
    -318,-318,-318,-318,-318,-318,-318,-319,-319,-319,-319,-319,-319,-319,-319,-319,-319,-320,-320,-320,-320,-320,-320,-320,-320,-320,-321,-321,-321,-321,-321,-321,
    -321,-321,-321,-322,-322,-322,-322,-322,-322,-322,-322,-322,-323,-323,-323,-323,-323,-323,-323,-323,-323,-323,-324,-324,-324,-324,-324,-324,-324,-324,-324,-325,
    -325,-325,-325,-325,-325,-325,-325,-325,-326,-326,-326,-326,-326,-326,-326,-326,-326,-327,-327,-327,-327,-327,-327,-327,-327,-327,-328,-328,-328,-328,-328,-328,
    -328,-328,-328,-328,-329,-329,-329,-329,-329,-329,-329,-329,-329,-330,-330,-330,-330,-330,-330,-330,-330,-330,-331,-331,-331,-331,-331,-331,-331,-331,-331,-332,
    -332,-332,-332,-332,-332,-332,-332,-333,-333,-333,-333,-333,-333,-333,-333,-333,-334,-334,-334,-334,-334,-334,-334,-334,-334,-335,-335,-335,-335,-335,-335,-335,
    -335,-336,-336,-336,-336,-336,-336,-336,-336,-336,-337,-337,-337,-337,-337,-337,-337,-337,-337,-338,-338,-338,-338,-338,-338,-338,-338,-339,-339,-339,-339,-339,
    -339,-339,-339,-339,-340,-340,-340,-340,-340,-340,-340,-340,-340,-341,-341,-341,-341,-341,-341,-341,-341,-342,-342,-342,-342,-342,-342,-342,-342,-343,-343,-343,
    -343,-343,-343,-343,-343,-344,-344,-344,-344,-344,-344,-344,-344,-345,-345,-345,-345,-345,-345,-345,-345,-345,-346,-346,-346,-346,-346,-346,-346,-346,-347,-347,
    -347,-347,-347,-347,-347,-347,-348,-348,-348,-348,-348,-348,-348,-348,-349,-349,-349,-349,-349,-349,-349,-349,-350,-350,-350,-350,-350,-350,-350,-350,-350,-350,
    -351,-351,-351,-351,-351,-351,-351,-351,-351,-351,-351,-351,-352,-352,-352,-352,-352,-352,-352,-352,-352,-352,-352,-352,-353,-353,-353,-353,-353,-353,-353,-353,
    -353,-353,-353,-354,-354,-354,-354,-354,-354,-354,-354,-354,-354,-354,-354,-355,-355,-355,-355,-355,-355,-355,-355,-355,-355,-355,-355,-356,-356,-356,-356,-356,
    -356,-356,-356,-356,-356,-356,-356,-357,-357,-357,-357,-357,-357,-357,-357,-357,-357,-357,-358,-358,-358,-358,-358,-358,-358,-358,-358,-358,-358,-358,-359,-359,
    -359,-359,-359,-359,-359,-359,-359,-359,-359,-359,-360,-360,-360,-360,-360,-360,-360,-360,-360,-360,-360,-361,-361,-361,-361,-361,-361,-361,-361,-361,-361,-361,
    -362,-362,-362,-362,-362,-362,-362,-362,-362,-362,-362,-363,-363,-363,-363,-363,-363,-363,-363,-363,-363,-363,-364,-364,-364,-364,-364,-364,-364,-364,-364,-364,
    -364,-365,-365,-365,-365,-365,-365,-365,-365,-365,-365,-365,-365,-366,-366,-366,-366,-366,-366,-366,-366,-366,-366,-366,-367,-367,-367,-367,-367,-367,-367,-367,
    -367,-367,-367,-368,-368,-368,-368,-368,-368,-368,-368,-368,-368,-368,-369,-369,-369,-369,-369,-369,-369,-369,-369,-369,-369,-370,-370,-370,-370,-370,-370,-380
};
volatile uint8_t system_log_ready = 0;
volatile uint8_t kgOffset[10] = { 4, 6, 8, 10, 12, 14, 16, 18, 20, 22};
volatile int16_t kgPrvArray[12] = { 0,0,0,0,0,0,0,0,0,0,0,0 };
volatile int8_t kgAngle = 0;
volatile uint8_t circEn = 0;
volatile uint16_t prvScreenNumber = 0;
volatile uint16_t tmpScreenNumber = 0;
volatile uint8_t act_page = 10;
volatile uint8_t overheating_enable_flag = 0;
volatile uint8_t urlop_enable_flag = 0;
volatile uint8_t system_state = 0x00;
volatile uint16_t integral_flags = 0x0000;
volatile int16_t temp_result[] = {
    0,0,0,0,0,0,0,0
};
volatile volatile uint8_t sys_enabled_slaves = 1;
volatile uint8_t PWM_enable = 1;
volatile uint8_t PWM_optym_en = 0;
volatile uint8_t PWM_optym_page = 0;
volatile uint8_t PWM_vc_pdz = 90;
volatile uint8_t PWM_vc_pco = 80;
volatile uint8_t PWM_i_co = 2;
volatile uint8_t PWM_i_cwu = 2;
volatile uint8_t PWM_i_pdz = 5;
volatile uint8_t PWM_vs_pco = 80;
volatile uint8_t PWM_vs_pdz = 90;
volatile uint8_t PWM_rt_co = 7;
volatile uint8_t PWM_rt_dz = 3;
volatile uint8_t PWM_vj_pco = 30;
volatile uint8_t PWM_cs_pco = 3;
volatile uint8_t PWM_ws_pco = 30;
volatile uint8_t sys_room_t_sensor_cfg = 0;
volatile uint8_t tft_reinitialize_flag = 0;
volatile uint16_t tft_reinitialize_counter = 0;
volatile uint8_t system_wait_flag = 0;
volatile int8_t act_state = 2;
volatile uint8_t event_register_length = 25;
volatile uint8_t event_register_start_address = 0;
volatile uint8_t log_lock = 0;
volatile uint8_t act_view = 0;
volatile uint16_t display_orientation = 270;  // bylo 90
volatile uint32_t battery_voltage = 0;
char debMsg[200];
volatile uint8_t tpIdleTime = 0;
volatile uint8_t delayCnt = 100;
volatile uint8_t alarmsLenght = 25;
volatile uint8_t alarmsStart = 0;
volatile uint8_t gvar_is_connected = 0U;
volatile uint8_t gvar_get_ping = 0U;
uint8_t sys_language = 1;
uint8_t DHCP_refresh = 0;

int8_t basic_hc_default_wall[] = {
   21, 21, 24, 31, 36, 40, 44, 48, 53, 57, 61, 65
};
int8_t basic_hc_default_floor[] = {
   10, 10, 21, 26, 30, 32, 35, 37, 39, 42, 44 ,48
};
int8_t basic_hc[] = {
   10, 10, 12, 18, 28, 36, 44, 47, 52, 54, 56, 58
};
int8_t tmp_offset_hc[] = {
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};
int8_t offset_hc[] = {
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};
int8_t tmp_user_hc[] = {
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};
int8_t user_hc[] = {
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};
int8_t system_hc[] = {
   25, 25, 25, 29, 34, 40, 43, 45, 47, 49, 51, 53
};
int8_t tmp_system_hc[] = {
   25, 25, 25, 29, 34, 40, 43, 45, 47, 49, 51, 53
};
int8_t program_hc[] = {
   30, 30, 30, 34, 39, 45, 48, 50, 52, 54, 56, 58
};
int8_t program_full_hc[60];
int8_t hc_actual_possition = 0;
int8_t tmp_hc_actual_possition = 0;






int16_t ADCPT1000_to_temp(uint16_t adc) {
    int32_t temp;
    if ( adc < 1293) {
      temp = ((int32_t)(adc - 1162) * 100) / 131;
    }
    else {
        if (adc < 1662) {
          temp = (((int32_t)(adc - 1293) * 100) / 123) + 100;
        }
        else {
            if (adc < 2018) {
              temp = (((int32_t)(adc - 1662) * 100) / 119) + 401;
            }
            else {
               temp = (((int32_t)(adc - 2018) * 100) / 119) + 700;
            }
        }
    }
    return (int16_t)temp;
}

int16_t ADCPT1000_to_temp_old2(uint16_t adc) { // do lipca 2020r.
    int32_t temp;
    if ( adc < 1318) {
      temp = ((int32_t)(adc - 1158) * 100) / 160;
    }
    else {
        if (adc < 1698) {
          temp = (((int32_t)(adc - 1318) * 100) / 127) + 100;
        }
        else {
            if (adc < 2035) {
              temp = (((int32_t)(adc - 1698) * 100) / 112) + 400;
            }
            else {
               temp = (((int32_t)(adc - 2035) * 100) / 112) + 700;
            }
        }
    }
    return (int16_t)temp;
}

int16_t ADCPT1000_to_temp_old1(uint16_t adc) {
    int32_t temp;
    if ( adc < 865) {
      temp = ((int32_t)(adc - 670) * 100) / 199;
    }
    else {
        if (adc < 1425) {
          temp = (((int32_t)(adc - 865) * 100) / 199) + 100;
        }
        else {
            if (adc < 1950) {
              temp = (((int32_t)(adc - 1425) * 100) / 186) + 400;
            }
            else {
               temp = (((int32_t)(adc - 1950) * 100) / 176) + 700;
            }
        }
    }
    return (int16_t)temp;
}
int16_t ADCNTCZ_to_temp(uint16_t adc) {
    int32_t temp;
    if ( adc < 298) {    // 25  st.
      temp = (((int32_t)(165 - adc) * 150) / 133) + 400;
    }
    else {
        if (adc < 377) {  // 15 st.
          temp = (((int32_t)(298 - adc) * 100) / 79) + 250;
        }
        else {
            if (adc < 502) { // 10 st.
              temp = (((int32_t)(377 - adc) * 50) / 125) + 150;
            }
            else {
              if (adc < 605) { // 5 st.
                temp = (((int32_t)(502 - adc) * 50) / 103) + 100;
              }
              else {
                if (adc < 737) { // 0 st.
                  temp = (((int32_t)(605 - adc) * 50) / 132) + 50;
                }
                else {
                  if (adc < 888) { // -5 st.
                    temp = (((int32_t)(737 - adc) * 50) / 151);
                  }
                  else {
                    if (adc < 1090) { // -10 st.
                      temp = (((int32_t)(888 - adc) * 50) / 202) - 50;
                    }
                    else {
                      if (adc < 1278) { // -15 st.
                        temp = (((int32_t)(1090 - adc) * 50) / 188) - 100;
                      }
                      else {
                        if (adc < 1520) { // -20 st.
                          temp = (((int32_t)(1278 - adc) * 50) / 242) - 150;
                        }
                        else {
                          if (adc < 1792) { // -25 st.
                            temp = (((int32_t)(1520 - adc) * 50) / 200) - 200;
                          }
                          else {
                            if (adc < 2091) { // -30 st.
                              temp = (((int32_t)(1792 - adc) * 50) / 299) - 250;
                            }
                            else {
                              temp = (((int32_t)(2091 - adc) * 50) / 299) - 300;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
        }
    }
    return (int16_t)temp;
}




void out_do_1_set(void){
    if(S[0].Out.DO1 == 0){
S[0].DigitalOutputs |= (1<<2);

            SET_TO_UPDATE_ODO1();

    }
}
void out_do_1_clr(void){
    if(S[0].Out.DO1 == 1){
        S[0].DigitalOutputs &=~ (1<<2);

        SET_TO_UPDATE_ODO1();
    }
}
void out_do_2_set(void){
    if(S[0].Out.DO2 == 0){
S[0].DigitalOutputs |= (1<<1);

            SET_TO_UPDATE_ODO2();

    }
}
void out_do_2_clr(void){
    if(S[0].Out.DO2 == 1){
        S[0].DigitalOutputs &=~ (1<<1);

        SET_TO_UPDATE_ODO2();
    }
}
void out_zzc_set(void){
    if(S[0].Out.ZZC == 0){


                S[0].DigitalOutputs |= (1<<0);



    }
}
void out_zzc_clr(void){
    if(S[0].Out.ZZC == 1){
        S[0].DigitalOutputs &=~ (1<<0);

    }
}
void out_p_cwu_set(void){
    if(S[0].Out.PCWU == 0){
        S[0].DigitalOutputs |= (1<<4);

    }
}
void out_p_cwu_clr(void){
    if(S[0].Out.PCWU == 1){
        S[0].DigitalOutputs &=~ (1<<4);

    }
}
void out_sp_clr(uint8_t module) {
    if(S[module].Out.SP == 1){
        S[module].Out.SP = 0;

    }
    sp_have_to_set_flag = 0;
}
uint8_t out_sp_set(uint8_t module) {
    if(S[module].Out.SP == 0){
        //if(!(serviceErrorChk())){
        if ((S[module].T[4] > sysMinDZ) && (S[module].T[4] < sysMaxDZ)) {
            if(S[module].In.PWC == 0){
                if(S[module].In.PNC == 0){
                    if(S[module].In.WS == 0){
                        if(S[module].In.ZZ == 0){
                            if(cntBreakPer==0){


                                            S[module].Out.SP = 1;
                                            logs_add_event(EVENT_SP_ON, module);
                                            if (S[module].Out.PSG == 0) out_p_sg_set(module);
                                            if (S[module].Out.PDZ == 0) out_p_dz_set(module);
                                            SET_TO_UPDATE_OSP();
                                            return 0;



                            }
                        }
                    }
                }
            }
            //}
        }
        ///prdSpr = 1;
    }
    return 1;
}
void out_p_dz_set(uint8_t module) {
    if(S[module].Out.PDZ == 0){


                S[module].Out.PDZ = 1;
                logs_add_event(EVENT_PDZ_ON, module);
                SET_TO_UPDATE_ODZ();


    }
}
void out_p_dz_clr(uint8_t module) {
    if(S[module].Out.PDZ == 1){
        S[module].Out.PDZ = 0;
        logs_add_event(EVENT_PDZ_OFF, module);
        SET_TO_UPDATE_ODZ();
    }
}
void out_p_sg_set(uint8_t module) {
    if(S[module].Out.PSG == 0){

            S[module].Out.PSG = 1;
            logs_add_event(EVENT_PSG_ON, module);
            SET_TO_UPDATE_OSG();

    }
}
void out_p_sg_clr(uint8_t module) {
    if(S[module].Out.PSG == 1){
        S[module].Out.PSG = 0;
        logs_add_event(EVENT_PSG_OFF, module);
        SET_TO_UPDATE_OSG();
    }
}
void out_z3d_set(uint8_t module) {
    if(S[module].Out.Z3D == 0){
        S[module].Out.Z3D = 1;
        logs_add_event(EVENT_Z3D_CWU, module);
        SET_TO_UPDATE_OZ3D();
    }
}
void out_z3d_clr(uint8_t module) {
    if(S[module].Out.Z3D == 1){
        S[module].Out.Z3D = 0;
        logs_add_event(EVENT_Z3D_CO, module);
        SET_TO_UPDATE_OZ3D();
    }
}


void temp_to_xchar_3(int16_t integer, XCHAR *result, uint8_t startIndex){
    //uint8_t pos=0;
    if(integer < -999) integer = -999;
    if(integer > 999) integer = 999;
    if(integer < 0){
            result[startIndex]='-';
            integer*=-1;
    }
    else result[startIndex]=' ';
    startIndex++;
    int8_t num1 = integer/100;
    int8_t num2 = (integer%100)/10;
    int8_t num3 = integer%10;
    result[startIndex+0]=(XCHAR)(num1+0x30);
    result[startIndex+1]=(XCHAR)(num2+0x30);
    result[startIndex+2]='.';
    result[startIndex+3]=(XCHAR)(num3+0x30);
    return;
}

